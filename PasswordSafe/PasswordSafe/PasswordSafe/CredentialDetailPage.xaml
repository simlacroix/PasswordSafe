<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             x:Class="PasswordSafe.CredentialDetailPage"
             Title="Credential"
             NavigationPage.HasBackButton="True">
    <ContentPage.Resources>
        <ResourceDictionary>
            <Style TargetType="Button" x:Key="btnStyle">
                <Setter Property="FontSize" Value="18"/>
                <Setter Property="BorderRadius" Value="20"/>
                <Setter Property="FontAttributes" Value="Bold"/>
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>

    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Edit" Clicked="toolbarItemEdit_Clicked" x:Name="toolbarItemEdit" />
    </ContentPage.ToolbarItems>
    <ContentPage.Content>
        <TableView Intent="Form" HasUnevenRows="True">
            <TableRoot>
                <TableSection TextColor="DeepPink" Title="Basic Information">
                    <EntryCell x:Name="entryTitle" Label="Credential Title" Keyboard="Text" Placeholder="Instagram Account" Text="{Binding CredentialTitle}" IsEnabled="False"/>
                    <EntryCell x:Name="entryPassword" Label="Password" Keyboard="Text" Placeholder="*******" Text="{Binding Password}" IsEnabled="False"/>
                    <EntryCell x:Name="entryExpireDate" Label="Expire On" Text="{Binding ExpirationDate,StringFormat='{0:MMM dd, HH:mm}'}" IsEnabled="False"/>
                    <EntryCell x:Name="entryNotes" Label="Addtional Info" Text="{Binding Notes}" IsEnabled="False"/>
                    <ViewCell>
                        <StackLayout Padding="10,8">
                            <Button Text="View Password Policy" Style="{StaticResource Key=btnStyle}" IsVisible="False" x:Name="passwordPolicyBtn" Clicked="passwordPolicyBtn_Clicked"/>
                        </StackLayout>
                    </ViewCell>
                </TableSection>

                <TableSection Title="Social Media" TextColor="DeepPink" x:Name="socialMediaTbSection">
                    <EntryCell x:Name="entryEmail" Label="Email" Keyboard="Email" Placeholder="ballan@dc.com" Text="{Binding Email}" IsEnabled="False"/>
                    <EntryCell x:Name="entryPhone" Label="Phone" Keyboard="Telephone" Placeholder="+1 (111) 333-4444" Text="{Binding PhoneNumber}" IsEnabled="False"/>
                    <EntryCell x:Name="entryUsername" Label="Username" Keyboard="Text" Placeholder="susanmxy" Text="{Binding Username}" IsEnabled="False"/>
                    <EntryCell x:Name="entryName" Label="Name" Keyboard="Text" Placeholder="Xinyue Ma" Text="{Binding Name}" IsEnabled="False"/>
                    <EntryCell x:Name="entryLink" Label="Link" Keyboard="Text" Placeholder="https://www.instagram.com/susanmxy/" Text="{Binding Link}" IsEnabled="False"/>
                </TableSection>

                <TableSection Title="Wifi" TextColor="DeepPink" x:Name="wifiTbSection">
                    <EntryCell x:Name="entryWifiName" Label="Wifi Name" Keyboard="Text" Placeholder="JAC Wifi" Text="{Binding WifiName}" IsEnabled="False"/>
                    <EntryCell x:Name="entryMacAddress" Label="MAC Address" Keyboard="Text" Placeholder="5B-D0-20-7C-22-E9" Text="{Binding MacAddress}" IsEnabled="False"/>
                    <EntryCell x:Name="entryIpAddress" Label="IP Address" Keyboard="Text" Placeholder="10.39.167.52" Text="{Binding IpAddress}" IsEnabled="False"/>
                    <EntryCell x:Name="entrySubnetMask" Label="Subnet Mask" Keyboard="Text" Placeholder="255.240.0.0" Text="{Binding SubnetMask}" IsEnabled="False"/>
                    <EntryCell x:Name="entryDefaultGateway" Label="Default Gateway" Keyboard="Text" Placeholder="10.32.1.1" Text="{Binding DefaultGateway}" IsEnabled="False"/>
                    <EntryCell x:Name="entryDnsServer" Label="DNS Server" Keyboard="Text" Placeholder="10.39.167.243" Text="{Binding DnsServer}" IsEnabled="False"/>
                </TableSection>

                <TableSection Title="Banking" TextColor="DeepPink" x:Name="bankingTbSection">
                    <EntryCell x:Name="entryCardNumber" Label="Card Number" Keyboard="Numeric" Placeholder="4020030238467293" Text="{Binding CardNumber}" IsEnabled="False"/>
                    <EntryCell x:Name="entrySecuirityCode" Label="Secuirity Code" Keyboard="Numeric" Placeholder="258" Text="{Binding SecuirityCode}" IsEnabled="False"/>
                    <EntryCell x:Name="entryAddress" Label="Address" Keyboard="Text" Placeholder="21275 Rue Lakeshore" Text="{Binding Address}" IsEnabled="False"/>
                    <EntryCell x:Name="entryOnlineBankingUrl" Label="Online Banking Url" Keyboard="Text" Placeholder="https://www.rbcroyalbank.com/personal.html" Text="{Binding OnlineBankingUrl}" IsEnabled="False"/>
                    <ViewCell>
                        <StackLayout IsVisible="False" x:Name="accountQuestionStackLayout">
                            <Label Text="Accounts"/>
                            <ListView x:Name="listviewAccounts" SelectionMode="None" ItemsSource="{Binding Accounts}" VerticalScrollBarVisibility="Always" HeightRequest="50">
                                <ListView.ItemTemplate>
                                    <DataTemplate>
                                        <TextCell>
                                            <TextCell.ContextActions>
                                                <MenuItem Text="Delete" x:Name="menuItemDeleteAcct" Clicked="menuItemDeleteAcct_Clicked" CommandParameter="{Binding .}"/>
                                                <MenuItem Text="Modify" x:Name="menuItemModifyAcct" Clicked="menuItemModifyAcct_Clicked" IsDestructive="False" CommandParameter="{Binding .}"/>
                                            </TextCell.ContextActions>
                                        </TextCell>
                                    </DataTemplate>
                                </ListView.ItemTemplate>
                            </ListView>

                            <Label Text="Security Questions and Answers"/>
                            <StackLayout Orientation="Horizontal">
                                <ListView x:Name="listviewQuestions" SelectionMode="None" VerticalScrollBarVisibility="Default" HeightRequest="50">
                                    <ListView.ItemTemplate>
                                        <DataTemplate>
                                            <TextCell>
                                                <TextCell.ContextActions>
                                                    <MenuItem Text="Delete" x:Name="menuItemDeleteQst" Clicked="menuItemDeleteQst_Clicked" CommandParameter="{Binding .}"/>
                                                    <MenuItem Text="Modify" x:Name="menuItemModifyQst" Clicked="menuItemModifyQst_Clicked" IsDestructive="False" CommandParameter="{Binding .}"/>
                                                </TextCell.ContextActions>
                                            </TextCell>
                                        </DataTemplate>
                                    </ListView.ItemTemplate>
                                </ListView>

                                <ListView x:Name="listviewAnswers" SelectionMode="None" VerticalScrollBarVisibility="Default" HeightRequest="50">
                                    <ListView.ItemTemplate>
                                        <DataTemplate>
                                            <TextCell>
                                                <TextCell.ContextActions>
                                                    <MenuItem Text="Delete" x:Name="menuItemDeleteAns" Clicked="menuItemDeleteQst_Clicked" CommandParameter="{Binding .}"/>
                                                    <MenuItem Text="Modify" x:Name="menuItemModifyAns" Clicked="menuItemModifyQst_Clicked" IsDestructive="False" CommandParameter="{Binding .}"/>
                                                </TextCell.ContextActions>
                                            </TextCell>
                                        </DataTemplate>
                                    </ListView.ItemTemplate>
                                </ListView>
                            </StackLayout>
                        </StackLayout>
                    </ViewCell>
                </TableSection>

                <TableSection TextColor="DeepPink">
                    <ViewCell>
                        <StackLayout Padding="10,8">
                            <Button Text="Save" Style="{StaticResource Key=btnStyle}" IsVisible="False" x:Name="saveBtn" Clicked="saveBtn_Clicked" />
                        </StackLayout>
                    </ViewCell>
                </TableSection>
            </TableRoot>
        </TableView>
    </ContentPage.Content>
</ContentPage>